{"version":3,"file":"static/js/FullPizza.6b36759d.chunk.js","mappings":"gPAQMA,EAAW,CAAC,uCAAU,4EACtBC,EAAW,CAAC,GAAI,GAAI,IAqJ1B,UAnJ4B,WACxB,IAAQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAaC,EAAAA,EAAAA,IAAYC,EAAAA,IAAzBF,SAERG,GAA0BC,EAAAA,EAAAA,YAWrBC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAXEI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAYtBI,GAAoCL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAxCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAAoCT,EAAAA,EAAAA,UAAS,GAAEU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAxCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAkBhC,IAhBAG,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEYC,EAAAA,EAAMC,IAAI,qDAADC,OACyBtC,IACvD,KAAD,EAAA8B,EAAAG,EAAAM,KAFOR,EAAID,EAAJC,KAGRjB,EAASiB,GAAME,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,SAEfQ,MAAM,6LACNvC,EAAS,KAAK,yBAAA+B,EAAAS,OAAA,GAAAb,EAAA,kBAErB,kBAVe,OAAAJ,EAAAkB,MAAA,KAAAC,UAAA,KAWhBpB,GAEJ,GAAG,KAEEX,EACD,OAAOgC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IAGlBjC,EAAMkC,KAAOjD,EAASmB,GACtBJ,EAAMmC,KAAOjD,EAASsB,GAEtB,IAAM4B,EAAc3C,EAAS4C,MACzB,SAACC,GACgB,OACbA,EAAInD,KAAOa,EAAMb,IAAMmD,EAAIJ,OAASlC,EAAMkC,MAAQI,EAAIH,OAASnC,EAAMmC,IAAI,IAE3EI,EAAaH,EAAcA,EAAYI,MAAQ,EASrD,OACIR,EAAAA,EAAAA,KAAA,OAAKS,UAAU,YAAWC,UACtBV,EAAAA,EAAAA,KAAA,OAAKS,UAAU,gBAAeC,UAC1BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,eAAcC,SAAA,EACzBV,EAAAA,EAAAA,KAAA,MAAAU,SAAK1C,EAAM4C,SACXZ,EAAAA,EAAAA,KAAA,OAAKa,IAAK7C,EAAM8C,SAAUC,IAAK/C,EAAM4C,SACrCZ,EAAAA,EAAAA,KAAA,KAAAU,SAAI1C,EAAMgD,QACVL,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wBAAuBC,SAAA,EAClCV,EAAAA,EAAAA,KAAA,MAAAU,SACK1C,EAAMiD,MAAMC,KAAI,SAAChB,EAAMiB,GAAK,OACzBnB,EAAAA,EAAAA,KAAA,MAEIoB,QAAS,kBAAM/C,EAAc8C,EAAM,EACnCV,UACIrC,IAAe+C,EAAQ,SAAW,GACrCT,SAEAzD,EAASkE,IANLA,EAOJ,OAGbnB,EAAAA,EAAAA,KAAA,MAAAU,SACK1C,EAAMqD,MAAMH,KAAI,SAACf,EAAMgB,GAAK,OACzBR,EAAAA,EAAAA,MAAA,MAEIS,QAAS,kBAAM3C,EAAc0C,EAAM,EACnCV,UACIjC,IAAe2C,EAAQ,SAAW,GACrCT,SAAA,CAEAxD,EAASiE,GAAO,mBANZA,EAOJ,UAIjBR,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qBAAoBC,SAAA,CAAC,gBAC5B1C,EAAMsD,MAAM,cAEpBX,EAAAA,EAAAA,MAAA,OACIF,UAAU,qCACVW,QAhDL,WACf7D,GAASgE,EAAAA,EAAAA,IAAWvD,GACxB,EA8C4C0C,SAAA,EAEpBV,EAAAA,EAAAA,KAAA,OACIwB,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BAA4BlB,UAElCV,EAAAA,EAAAA,KAAA,QACI6B,EAAE,2QACFF,KAAK,aAGb3B,EAAAA,EAAAA,KAAA,QAAAU,SAAM,qDACLH,EAAa,IAAKP,EAAAA,EAAAA,KAAA,KAAAU,SAAIH,WAG/BP,EAAAA,EAAAA,KAAA,OAAKS,UAAU,uBAAsBC,UACjCC,EAAAA,EAAAA,MAACmB,EAAAA,GAAI,CACDC,GAAG,IACHX,QAlEJ,WAChB7D,GAASyE,EAAAA,EAAAA,IAAe,IAC5B,EAiEwBvB,UAAU,sCAAqCC,SAAA,EAE/CV,EAAAA,EAAAA,KAAA,OACIwB,MAAM,IACNC,OAAO,KACPC,QAAQ,WACRC,KAAK,OACLC,MAAM,6BAA4BlB,UAElCV,EAAAA,EAAAA,KAAA,QACI6B,EAAE,4BACFI,OAAO,UACPC,YAAY,MACZC,cAAc,QACdC,eAAe,aAGvBpC,EAAAA,EAAAA,KAAA,QAAAU,SAAM,qGAOlC,C","sources":["pages/FullPizza.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { useNavigate, useParams, Link } from 'react-router-dom';\nimport {Loader} from '../components/Loader';\nimport { addProduct, selectCart } from '../redux/slices/cartSlice';\nimport { setSearchValue } from '../redux/slices/filtersSlice';\n\nconst typeName = ['тонкое', 'традиционное'];\nconst sizeName = [26, 30, 40];\n\nconst FullPizza: React.FC = () => {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const { products } = useSelector(selectCart);\n\n    const [pizza, setPizza] = useState<{\n        id: string,\n        title: string,\n        imageUrl: string,\n        price: number\n        types: [],\n        sizes: [],\n        desc: string,\n        type: string,\n        size: number,\n        count: number\n    } >();\n    const [activeType, setActiveType] = useState(0);\n    const [activeSize, setActiveSize] = useState(0);\n\n    useEffect(() => {\n        const fetchPizza = async () => {\n            try {\n                const { data } = await axios.get(\n                    `https://6517b526582f58d62d351525.mockapi.io/Items/${id}`\n                );\n                setPizza(data);\n            } catch (error) {\n                alert('К сожалению данная пицца не найдена');\n                navigate('/');\n            }\n        };\n        fetchPizza();\n        //eslint-disable-next-line\n    }, []);\n  \n    if (!pizza) {\n        return <Loader />;\n    }\n    \n    pizza.type = typeName[activeType];\n    pizza.size = sizeName[activeSize];\n\n    const cartProduct = products.find(\n        (obj: {id: string, type: string,\n            size: number}) =>\n            obj.id === pizza.id && obj.type === pizza.type && obj.size === pizza.size\n    );\n    const addedCount = cartProduct ? cartProduct.count : 0;\n\n    const onClickAdd = () => {\n        dispatch(addProduct(pizza));\n    };\n    const clearSearch = () => {\n        dispatch(setSearchValue(''));\n    };\n\n    return (\n        <div className='container'>\n            <div className='pizza__wraper'>\n                <div className='pizza__block'>\n                    <h1>{pizza.title}</h1>\n                    <img src={pizza.imageUrl} alt={pizza.title} />\n                    <p>{pizza.desc}</p>\n                    <div className='pizza-block__selector'>\n                        <ul>\n                            {pizza.types.map((type, index) => (\n                                <li\n                                    key={index}\n                                    onClick={() => setActiveType(index)}\n                                    className={\n                                        activeType === index ? 'active' : ''\n                                    }\n                                >\n                                    {typeName[index]}\n                                </li>\n                            ))}\n                        </ul>\n                        <ul>\n                            {pizza.sizes.map((size, index) => (\n                                <li\n                                    key={index}\n                                    onClick={() => setActiveSize(index)}\n                                    className={\n                                        activeSize === index ? 'active' : ''\n                                    }\n                                >\n                                    {sizeName[index]} см.\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                    <div className='pizza-block__bottom'>\n                        <div className='pizza-block__price'>\n                            от {pizza.price} ₽\n                        </div>\n                        <div\n                            className='button button--outline button--add'\n                            onClick={onClickAdd}\n                        >\n                            <svg\n                                width='12'\n                                height='12'\n                                viewBox='0 0 12 12'\n                                fill='none'\n                                xmlns='http://www.w3.org/2000/svg'\n                            >\n                                <path\n                                    d='M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z'\n                                    fill='white'\n                                />\n                            </svg>\n                            <span>Добавить</span>\n                            {addedCount > 0 && <i>{addedCount}</i>}\n                        </div>\n                    </div>\n                    <div className='cart__bottom-buttons'>\n                        <Link\n                            to='/'\n                            onClick={clearSearch}\n                            className='button button--outline  go-back-btn'\n                        >\n                            <svg\n                                width='8'\n                                height='14'\n                                viewBox='0 0 8 14'\n                                fill='none'\n                                xmlns='http://www.w3.org/2000/svg'\n                            >\n                                <path\n                                    d='M7 13L1 6.93015L6.86175 1'\n                                    stroke='#D3D3D3'\n                                    strokeWidth='1.5'\n                                    strokeLinecap='round'\n                                    strokeLinejoin='round'\n                                />\n                            </svg>\n                            <span>Вернуться назад</span>\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default FullPizza;\n"],"names":["typeName","sizeName","id","useParams","navigate","useNavigate","dispatch","useDispatch","products","useSelector","selectCart","_useState","useState","_useState2","_slicedToArray","pizza","setPizza","_useState3","_useState4","activeType","setActiveType","_useState5","_useState6","activeSize","setActiveSize","useEffect","fetchPizza","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","axios","get","concat","sent","t0","alert","stop","apply","arguments","_jsx","Loader","type","size","cartProduct","find","obj","addedCount","count","className","children","_jsxs","title","src","imageUrl","alt","desc","types","map","index","onClick","sizes","price","addProduct","width","height","viewBox","fill","xmlns","d","Link","to","setSearchValue","stroke","strokeWidth","strokeLinecap","strokeLinejoin"],"sourceRoot":""}